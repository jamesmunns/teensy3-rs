# Rust on Teensy3

This is a repo for development on the Teensy3 in Rust. This repo is bootstrapped
with Teensyduino bindings, generated by servo's branch of bindgen.

To use this, please see [this demo repo](https://github.com/jamesmunns/teensy3-rs-demo) which can be used as a template

## Goals

* ~~Turn this repo into a module that can be included as a Crate.~~
    * Done!
* ~~Not force people to fork this repo to work on their own applications~~
    * Done!
* Minimize the amount of unsafe calls that are necessary for normal application level programming
    * Not really done.
* Maybe switch to a less Arduino oriented API in the future, or at least learn enough lessons here to make that possible in another project
* Low priority/Non-Goal: Reimplement generated components with native rust

## Current state:

We've been crated!

## Package layout

* `teensy3-sys` - This crate contains the C/C++ code and the Rust bindings against them. All items are generally unsafe, and not idiomatic rust.
* `teensy3` - This crate contains any ergonomic wrappers around `teensy3-sys` components, as well as any pure rust reimplementations of other components. `teensy3-sys` is re-exported as `teensy3::bindings`.

## Thanks, Citiations

This code is nearly entirely thanks to these resources:

[PJRC's Teensyduino libraries](https://github.com/PaulStoffregen/cores) for the Teensy3, which are used as bindings.

[Simon's teensy3-clock repo](https://github.com/SimonSapin/teensy-clock) for the rust main, build scripts, bindgen knowledge, et. al.

[Servo's fork of bindgen](https://github.com/servo/rust-bindgen)

## Dependencies

* A somewhat current Nightly Build of Rust (currently tested on `rustc 1.13.0-nightly (6ffdda1ba 2016-09-14)`)
* [Japaric's Xargo Tool](https://github.com/japaric/xargo) - used to cross compile libcore
* A somewhat current arm-none-eabi-gcc toolchain.
    * 4.9.3 seems to work with a slight linker hack
    * 6.x.x seems to work without hacks.

Sorry for the lack of definite documents. More to come.

## License

Rust contriibutions are licensed under the MIT License.

**Please Note:** ASM, C, C++, and Linker Components of the `teensy3-sys` crate (a dependency of the `teensy3` crate) contain components licensed under the MIT License, PJRC's modified MIT License, and the LGPL v2.1. Please refer to individual components for more details.